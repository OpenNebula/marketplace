---
name: Windows VM Template
version: 7.0.0-0-20250926
publisher: OpenNebula Systems
description: |-
  Windows VM Template skeleton with a set of the following files and recommended settings for Windows VM:
    - empty disk (to be used either for Windows installation or to be replaced with already pre-installed Windows OS if you already has such one),
    - virtio-win.iso (an image file containing paravirtualized drivers required for optimal performance of Windows VMs on virtualization platforms such as KVM and some other hypervisors),
    - one-context.iso (an image file containing OpenNebula [contextualization package](https://docs.opennebula.io/stable/product/virtual_machines_operation/guest_operating_systems/kvm_contextualization/)).

  This VM template should be imported into your OpenNebula cloud. After that depending on your requirements
  1) a Windows Installation ISO image needs to be added to that template to be used for Windows installation on the empty image or
  2) the empty disk has to be replaced with one which already has pre-installed Windows OS.

  That VM template also contains optimal settings for Windows VMs.

  **Note**: Remember to update the template in order to add a network after importing it.

  **Warning**: Some additional changes related to FIRMWARE attribute are required to be done after importing that VM template into your OpenNebula installation if you are using OpenNebula version 6.10.
short_description: Windows VM template with a set of files and optimal settings.
tags:
- windows
type: 'VMTEMPLATE'
creation_time: 1758884727
hypervisor: KVM
os-id: none
os-arch: x86_64
format: qcow2
opennebula_version: 6.10, 7.0
disks:
  - 'Empty disk'
  - 'Windows VirtIO Drivers - v0.1.285'
  - 'Contextualization Packages'
opennebula_template:
  context:
    network: 'YES'
    ssh_public_key: '$USER[SSH_PUBLIC_KEY]'
  cpu: '1'
  cpu_model:
    model: 'host-passthrough'
  graphics:
    listen: 0.0.0.0
    type: vnc
  memory: '2048'
  os:
    arch: x86_64
    machine: 'q35'
    firmware: 'UEFI'
    firmware_secure: 'Yes'
  input:
    type: 'tablet'
    bus: 'usb'
  features:
    ACPI: 'Yes'
    apic: 'Yes'
    guest_agent: 'Yes'
    hyperv: 'Yes'
    localtime: 'Yes'
    pae: 'Yes'
    virtio_blk_queues: 'auto'
    virtio_scsi_queues: 'auto'
  raw:
    type: 'kvm'
    data: |-
      <features>
        <hyperv>
          <evmcs state='off'/>
          <frequencies state='on'/>
          <ipi state='on'/>
          <reenlightenment state='off'/>
          <relaxed state='on'/>
          <reset state='off'/>
          <runtime state='on'/>
          <spinlocks state='on' retries='8191'/>
          <stimer state='on'/>
          <synic state='on'/>
          <tlbflush state='on'/>
          <vapic state='on'/>
          <vpindex state='on'/>
        </hyperv>
      </features>
      <clock offset='utc'>
        <timer name='hpet' present='no'/>
        <timer name='hypervclock' present='yes'/>
        <timer name='pit' tickpolicy='delay'/>
        <timer name='rtc' tickpolicy='catchup'/>
      </clock>
    validate: 'Yes'
images: []
